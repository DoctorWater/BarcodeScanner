<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    x:Class="MauiAndroid.App.Views.AndroidOneLinePresentation"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

    <ContentView.Content>
        <StackLayout Padding="10"
                     Spacing="10">

            <StackLayout>
                <Label Text="Order Information"
                       FontAttributes="Bold"
                       FontSize="Medium"/>

                <Label Text="{Binding Order.ExternalId, StringFormat='External ID: {0}'}"/>
                <Label Text="{Binding Order.Barcode, StringFormat='Barcode: {0}'}"/>
                <Label Text="{Binding Order.Status, StringFormat='Status: {0}'}"/>
                <Label Text="{Binding ClosedOn, StringFormat='{0:dd.MM.yyyy HH:mm:ss}'}"/>
            </StackLayout>

            <StackLayout IsVisible="{Binding IsExpanded}">
                <Grid BackgroundColor="LightGray"
                      Padding="5"
                      ColumnSpacing="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Label Text="Id"
                           FontAttributes="Bold"
                           Grid.Column="0"/>
                    <Label Text="Departure from"
                           FontAttributes="Bold"
                           Grid.Column="1"/>
                    <Label Text="Planned"
                           FontAttributes="Bold"
                           Grid.Column="2"/>
                    <Label Text="Arrived to"
                           FontAttributes="Bold"
                           Grid.Column="3"/>
                    <Label Text="Status"
                           FontAttributes="Bold"
                           Grid.Column="4"/>
                    <Label Text="Arrived On"
                           FontAttributes="Bold"
                           Grid.Column="5"/>
                </Grid>

                <CollectionView ItemsSource="{Binding LocationTickets}">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Grid Padding="5"
                                  ColumnSpacing="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <Grid.Triggers>
                                    <DataTrigger TargetType="Grid"
                                                 Binding="{Binding IsSuccess}"
                                                 Value="True">
                                        <Setter Property="BackgroundColor"
                                                Value="LightGreen"/>
                                    </DataTrigger>
                                    <DataTrigger TargetType="Grid"
                                                 Binding="{Binding IsSuccess}"
                                                 Value="False">
                                        <Setter Property="BackgroundColor"
                                                Value="LightCoral"/>
                                    </DataTrigger>
                                </Grid.Triggers>

                                <Label Text="{Binding ID}"
                                       Grid.Column="0"/>
                                <Label Text="{Binding DepartureLocation}"
                                       Grid.Column="1"/>
                                <Label Text="{Binding PlannedLocation}"
                                       Grid.Column="2"/>
                                <Label Text="{Binding ArrivedAtLocation}"
                                       Grid.Column="3"/>
                                <Label Text="{Binding Status}"
                                       Grid.Column="4"/>
                                <Label Text="{Binding ArrivedOn, StringFormat='{0:dd.MM.yyyy HH:mm:ss}'}"
                                       Grid.Column="5"/>
                            </Grid>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </StackLayout>

        </StackLayout>
    </ContentView.Content>
</ContentView>
